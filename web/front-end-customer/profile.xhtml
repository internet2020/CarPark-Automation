<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/front-end-customer/template/panel.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

    <ui:define name="content">


        <!-- HOME -->
        <section class="home-section section-hero inner-page overlay bg-image"
                 style="background-image: url('resources/images/header2.jpg');" id="home-section">
            <div class="container">
                <div class="row align-items-center justify-content-center">
                    <div class="col-md-12">
                        <div class="mb-5 text-center">
                            <h1 class="text-white font-weight-bold">ProfilX</h1>
                            <p>#{sessionScope.valid_user.user_name}</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="site-section">
            <div class="container">
                <div class="row align-items-center mb-5">
                    <div class="col-lg-8 mb-4 mb-lg-0">
                        <div class="d-flex align-items-center">

                            <div>
                                <h2>Geçmiş/Devam Eden Parklarım</h2>
                               
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="row">


                            <a href="#" class="btn btn-block btn-primary btn-md">Bilgileri Güncelle</a>

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8">
                        <div class="mb-5">
                            <h:form id="table">
                                <h:dataTable  id="datatable-checkbox" styleClass="table table-striped table-bordered bulk_action" value="#{parkTransactionController.getCustomerTransactionList(sessionScope.valid_user.user_id)}" var="parkTransaction">       
                                    <h:column>
                                        <f:facet name="header">CAR NAME</f:facet>
                                            #{parkTransaction.park_car_name}
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">CARPARK</f:facet>
                                            #{parkTransaction.park_carpark.carpark_name}
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">COST(₺)</f:facet>
                                        <span class="label label-success"> #{parkTransaction.park_cost}(₺)</span>  
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">PARK PACKAGE</f:facet>
                                        #{parkTransaction.park_parkpackage.parkpackage_name}(#{parkTransaction.park_parkpackage.parkpackage_cost}₺)
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">START TIME</f:facet>
                                        <span class="label label-success pull-left">Tarih:</span>#{parkTransaction.park_start_time.toLocalDate().dayOfMonth}/#{parkTransaction.park_start_time.toLocalDate().monthValue}/#{parkTransaction.park_start_time.toLocalDate().year}
                                        <br></br>
                                        <span class="label label-info pull-left">Saat:</span>#{parkTransaction.park_start_time.toLocalTime()}
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">END TIME</f:facet>
                                        <span class="label label-success pull-left">Tarih:</span>#{parkTransaction.park_end_time.toLocalDate().dayOfMonth}/#{parkTransaction.park_end_time.toLocalDate().monthValue}/#{parkTransaction.park_end_time.toLocalDate().year}
                                        <br></br>
                                        <span class="label label-info pull-left">Saat:</span>#{parkTransaction.park_end_time.toLocalTime()}
                                    </h:column>

                                </h:dataTable> 

                                <!--Pagination Button Başlangıç -->
                                <div class="btn-group">
                                    <h:commandButton action="#{parkTransactionController.ilk()}" value="İlk" styleClass="btn btn-info"/>
                                    <h:commandButton action="#{parkTransactionController.geri()}" value="Geri" styleClass="btn btn-outline-info"/>
                                    <h:commandButton action="#{parkTransactionController.ileri()}" value="İleri" styleClass="btn btn-outline-info"/>
                                    <h:commandButton action="#{parkTransactionController.son()}" value="Son" styleClass="btn btn-info"/>
                                </div>
                                <br></br>
                                Page #{parkTransactionController.page} of #{parkTransactionController.pageCount}
                                <!--Pagination Button Bitiş -->
                            </h:form>
                        </div>
                    </div>


                    <div class="col-lg-4 ">
                        <div class="bg-light p-3 border rounded mb-4">
                            <h3 class="text-primary  mt-3 h5 pl-3 mb-3 ">Kişisel Bilgiler</h3>
                            <ul class="list-unstyled pl-3 mb-0">
                                <li class="mb-2"><strong class="text-black">Ad:</strong> #{sessionScope.valid_user.user_name}</li>
                                <li class="mb-2"><strong class="text-black">Soyad:</strong> #{sessionScope.valid_user.user_surname}</li>
                                <li class="mb-2"><strong class="text-black">Kullanıcı Adı:</strong> #{sessionScope.valid_user.user_username}</li>
                                <li class="mb-2"><strong class="text-black">Mail:</strong> #{sessionScope.valid_user.user_mail}</li>
                                <li class="mb-2"><strong class="text-black">Phone:</strong> #{sessionScope.valid_user.phone}</li>
                                <li class="mb-2"><strong class="text-black">Gender:</strong> #{sessionScope.valid_user.user_gender}</li>
                                <li class="mb-2"><strong class="text-black">Age:</strong> #{sessionScope.valid_user.user_age}</li>
                                <li class="mb-2"><strong class="text-black">City:</strong> #{sessionScope.valid_user.city.city_name}</li>
                                <li class="mb-2"><strong class="text-black">Country:</strong> #{sessionScope.valid_user.country.country_name}</li>
                                <li class="mb-2"><strong class="text-black">Adres:</strong> #{sessionScope.valid_user.user_address}</li>
                            </ul>
                        </div>

                      

                    </div>
                </div>
            </div>
        </section>





    </ui:define>
</ui:composition>
